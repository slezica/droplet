# NOTE:
# Coming from nginx, a ton of stuff looks like it's missing from this configuration.
# This is because Caddy implements sane defaults for the majority of its options, and
# we use those (for now at least).

{
    email salezica@gmail.com
}

dashi.salezica.io {
    encode gzip
    reverse_proxy localhost:4000
 
    # # TODO consider these:
    # header {
    #     # Enable HSTS with preload
    #     Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    #     # Prevent clickjacking
    #     X-Frame-Options "SAMEORIGIN"
    #     # XSS protection
    #     X-Content-Type-Options "nosniff"
    #     X-XSS-Protection "1; mode=block"
    #     # Referrer policy
    #     Referrer-Policy "strict-origin-when-cross-origin"
    # }
    # 
}

new.salezica.io {
    encode gzip
    reverse_proxy localhost:4001
}

*.salezica.io {
    respond "Not Found" 404
}
